.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "tinews.pl 1"
.TH tinews.pl 1 "May 26th, 2013" "1.1.35" "Post and sign an article via NNTP"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
tinews.pl \- Post and sign an article via NNTP
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBtinews.pl\fR [\fB\s-1OPTIONS\s0\fR] < \fIinput\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBtinews.pl\fR reads an article on \s-1STDIN\s0, signs it via \fBpgp\fR(1) or
\&\fBgpg\fR(1) and posts it to a newsserver.
.PP
If the article contains To:, Cc: or Bcc: headers and mail-actions are
configured it will automatically add a \*(L"Posted-And-Mailed: yes\*(R" header
to the article and send out the mail-copies.
.PP
If a Cancel-Lock secret file is defined it will automatically add a
Cancel-Lock: (and Cancel-Key: if required) header.
.PP
The input should have unix line endings (<\s-1LF\s0>, '\en').
.SH "OPTIONS"
.IX Xref "tinews, commandline options"
.IX Header "OPTIONS"
.ie n .IP "\-\fBa\fR ""Approved"" | \-\-\fBapproved\fR ""Approved""" 4
.el .IP "\-\fBa\fR \f(CWApproved\fR | \-\-\fBapproved\fR \f(CWApproved\fR" 4
.IX Xref "-a --approved"
.IX Item "-a Approved | --approved Approved"
Set the article header field Approved: to the given value.
.ie n .IP "\-\fBc\fR ""Control"" | \-\-\fBcontrol\fR ""Control""" 4
.el .IP "\-\fBc\fR \f(CWControl\fR | \-\-\fBcontrol\fR \f(CWControl\fR" 4
.IX Xref "-c --control"
.IX Item "-c Control | --control Control"
Set the article header field Control: to the given value.
.ie n .IP "\-\fBd\fR ""Distribution"" | \-\-\fBdistribution\fR ""Distribution""" 4
.el .IP "\-\fBd\fR \f(CWDistribution\fR | \-\-\fBdistribution\fR \f(CWDistribution\fR" 4
.IX Xref "-d --distribution"
.IX Item "-d Distribution | --distribution Distribution"
Set the article header field Distribution: to the given value.
.ie n .IP "\-\fBe\fR ""Expires"" | \-\-\fBexpires\fR ""Expires""" 4
.el .IP "\-\fBe\fR \f(CWExpires\fR | \-\-\fBexpires\fR \f(CWExpires\fR" 4
.IX Xref "-e --expires"
.IX Item "-e Expires | --expires Expires"
Set the article header field Expires: to the given value.
.ie n .IP "\-\fBf\fR ""From"" | \-\-\fBfrom\fR ""From""" 4
.el .IP "\-\fBf\fR \f(CWFrom\fR | \-\-\fBfrom\fR \f(CWFrom\fR" 4
.IX Xref "-f --from"
.IX Item "-f From | --from From"
Set the article header field From: to the given value.
.ie n .IP "\-\fBn\fR ""Newsgroups"" | \-\-\fBnewsgroups\fR ""Newsgroups""" 4
.el .IP "\-\fBn\fR \f(CWNewsgroups\fR | \-\-\fBnewsgroups\fR \f(CWNewsgroups\fR" 4
.IX Xref "-n --newsgroups"
.IX Item "-n Newsgroups | --newsgroups Newsgroups"
Set the article header field Newsgroups: to the given value.
.ie n .IP "\-\fBo\fR ""Organization"" | \-\-\fBorganization\fR ""Organization""" 4
.el .IP "\-\fBo\fR \f(CWOrganization\fR | \-\-\fBorganization\fR \f(CWOrganization\fR" 4
.IX Xref "-o --organization"
.IX Item "-o Organization | --organization Organization"
Set the article header field Organization: to the given value.
.ie n .IP "\-\fBp\fR ""port"" | \-\-\fBport\fR ""port""" 4
.el .IP "\-\fBp\fR \f(CWport\fR | \-\-\fBport\fR \f(CWport\fR" 4
.IX Xref "-p --port"
.IX Item "-p port | --port port"
use \f(CW\*(C`port\*(C'\fR as NNTP-port
.ie n .IP "\-\fBr\fR ""Reply\-To"" | \-\-\fBreplyto\fR ""Reply\-To""" 4
.el .IP "\-\fBr\fR \f(CWReply\-To\fR | \-\-\fBreplyto\fR \f(CWReply\-To\fR" 4
.IX Xref "-r --replyto"
.IX Item "-r Reply-To | --replyto Reply-To"
Set the article header field Reply-To: to the given value.
.IP "\-\fBs\fR \fIdirectory\fR | \-\-\fBsavedir\fR \fIdirectory\fR" 4
.IX Xref "-s --savedir"
.IX Item "-s directory | --savedir directory"
Save signed article to directory \fIdirectory\fR instead of posting.
.ie n .IP "\-\fBt\fR ""Subject"" | \-\-\fBsubject\fR ""Subject""" 4
.el .IP "\-\fBt\fR \f(CWSubject\fR | \-\-\fBsubject\fR \f(CWSubject\fR" 4
.IX Xref "-t --subject"
.IX Item "-t Subject | --subject Subject"
Set the article header field Subject: to the given value.
.ie n .IP "\-\fBw\fR ""Followup\-To"" | \-\-\fBfollowupto\fR ""Followup\-To""" 4
.el .IP "\-\fBw\fR \f(CWFollowup\-To\fR | \-\-\fBfollowupto\fR \f(CWFollowup\-To\fR" 4
.IX Xref "-w --followupto"
.IX Item "-w Followup-To | --followupto Followup-To"
Set the article header field Followup-To: to the given value.
.ie n .IP "\-\fBx\fR ""Path"" | \-\-\fBpath\fR ""Path""" 4
.el .IP "\-\fBx\fR \f(CWPath\fR | \-\-\fBpath\fR \f(CWPath\fR" 4
.IX Xref "-x --path"
.IX Item "-x Path | --path Path"
Set the article header field Path: to the given value.
.IP "\-\fBH\fR | \-\-\fBhelp\fR" 4
.IX Xref "-H --help"
.IX Item "-H | --help"
Show help-page.
.IP "\-\fBL\fR | \-\-\fBno-canlock\fR" 4
.IX Xref "-L --no-canlock"
.IX Item "-L | --no-canlock"
Do not add Cancel-Lock: / Cancel-Key: headers.
.IP "\-\fBR\fR | \-\-\fBno-control\fR" 4
.IX Xref "-R --no-control"
.IX Item "-R | --no-control"
Restricted mode, disallow control-messages.
.IP "\-\fBS\fR | \-\-\fBno-signature\fR" 4
.IX Xref "-s --no-signature"
.IX Item "-S | --no-signature"
Do not append \fI\f(CI$HOME\fI/.signature\fR.
.IP "\-\fBX\fR | \-\-\fBno-sign\fR" 4
.IX Xref "-X --no-sign"
.IX Item "-X | --no-sign"
Do not sign the article.
.IP "\-\fBY\fR | \-\-\fBforce-auth\fR" 4
.IX Xref "-Y --force-auth"
.IX Item "-Y | --force-auth"
Force authentication on connect even if not required by the server.
.IP "\-\fBA\fR \-\fBV\fR \-\fBW\fR" 4
.IX Xref "-A -V -W"
.IX Item "-A -V -W"
These options are accepted for compatibility reasons but ignored.
.IP "\-\fBh\fR | \-\-\fBheaders\fR" 4
.IX Xref "-h --headers"
.IX Item "-h | --headers"
These options are accepted for compatibility reasons but ignored.
.IP "\-\fBO\fR | \-\-\fBno-organization\fR" 4
.IX Xref "-O --no-organization"
.IX Item "-O | --no-organization"
These options are accepted for compatibility reasons but ignored.
.IP "\-\fBD\fR | \-\fBN\fR | \-\-\fBdebug\fR" 4
.IX Xref "-D -N --debug"
.IX Item "-D | -N | --debug"
These options are accepted but do not have any functionality yet.
.SH "EXIT STATUS"
.IX Header "EXIT STATUS"
The following exit values are returned:
.IP "\ 0" 4
.IX Item "0"
Successful completion.
.IP "!=0" 4
.IX Item "!=0"
An error occurred.
.SH "ENVIRONMENT"
.IX Xref "tinews, environment variables"
.IX Header "ENVIRONMENT"
.ie n .IP "\fB\fB$NNTPSERVER\fB\fR" 4
.el .IP "\fB\f(CB$NNTPSERVER\fB\fR" 4
.IX Xref "$NNTPSERVER NNTPSERVER"
.IX Item "$NNTPSERVER"
Set to override the \s-1NNTP\s0 server configured in the source.
.ie n .IP "\fB\fB$NNTPPORT\fB\fR" 4
.el .IP "\fB\f(CB$NNTPPORT\fB\fR" 4
.IX Xref "$NNTPPORT NNTPPORT"
.IX Item "$NNTPPORT"
The \s-1NNTP\s0 TCP-port to post news to. This variable only needs to be set if the
TCP-port is not 119 (the default). The '\-\fBp\fR' command-line option overrides
\&\fB\f(CB$NNTPPORT\fB\fR.
.ie n .IP "\fB\fB$PGPPASS\fB\fR" 4
.el .IP "\fB\f(CB$PGPPASS\fB\fR" 4
.IX Xref "$PGPPASS PGPPASS"
.IX Item "$PGPPASS"
Set to override the passphrase configured in the source (used for
\&\fBpgp\fR(1)\-2.6.3).
.ie n .IP "\fB\fB$PGPPASSFILE\fB\fR" 4
.el .IP "\fB\f(CB$PGPPASSFILE\fB\fR" 4
.IX Xref "$PGPPASSFILE PGPPASSFILE"
.IX Item "$PGPPASSFILE"
Passphrase file used for \fBpgp\fR(1) or \fBgpg\fR(1).
.ie n .IP "\fB\fB$SIGNER\fB\fR" 4
.el .IP "\fB\f(CB$SIGNER\fB\fR" 4
.IX Xref "$SIGNER SIGNER"
.IX Item "$SIGNER"
Set to override the user-id for signing configured in the source. If you
neither set \fB\f(CB$SIGNER\fB\fR nor configure it in the source the contents of the
From:\-field will be used.
.ie n .IP "\fB\fB$REPLYTO\fB\fR" 4
.el .IP "\fB\f(CB$REPLYTO\fB\fR" 4
.IX Xref "$REPLYTO REPLYTO"
.IX Item "$REPLYTO"
Set the article header field Reply-To: to the return address specified by
the variable if there isn't already a Reply-To: header in the article.
The '\-\fBr\fR' command-line option overrides \fB\f(CB$REPLYTO\fB\fR.
.ie n .IP "\fB\fB$ORGANIZATION\fB\fR" 4
.el .IP "\fB\f(CB$ORGANIZATION\fB\fR" 4
.IX Xref "$ORGANIZATION ORGANIZATION"
.IX Item "$ORGANIZATION"
Set the article header field Organization: to the contents of the variable
if there isn't already a Organization: header in the article. The '\-\fBo\fR'
command-line option overrides \fB\f(CB$ORGANIZATION\fB\fR.
.ie n .IP "\fB\fB$DISTRIBUTION\fB\fR" 4
.el .IP "\fB\f(CB$DISTRIBUTION\fB\fR" 4
.IX Xref "$DISTRIBUTION DISTRIBUTION"
.IX Item "$DISTRIBUTION"
Set the article header field Distribution: to the contents of the variable
if there isn't already a Distribution: header in the article. The '\-\fBd\fR'
command-line option overrides \fB\f(CB$DISTRIBUTION\fB\fR.
.SH "FILES"
.IX Header "FILES"
.IP "\fIpgptmp.txt\fR" 4
.IX Item "pgptmp.txt"
Temporary file used to store the reformatted article.
.IP "\fIpgptmp.txt.asc\fR" 4
.IX Item "pgptmp.txt.asc"
Temporary file used to store the reformatted and signed article.
.ie n .IP "\fI\fI$PGPPASSFILE\fI\fR" 4
.el .IP "\fI\f(CI$PGPPASSFILE\fI\fR" 4
.IX Item "$PGPPASSFILE"
The passphrase file to be used for \fBpgp\fR(1) or \fBgpg\fR(1).
.ie n .IP "\fI\fI$HOME\fI/.signature\fR" 4
.el .IP "\fI\f(CI$HOME\fI/.signature\fR" 4
.IX Item "$HOME/.signature"
Signature file which will be automatically included.
.ie n .IP "\fI\fI$HOME\fI/.cancelsecret\fR" 4
.el .IP "\fI\f(CI$HOME\fI/.cancelsecret\fR" 4
.IX Item "$HOME/.cancelsecret"
The passphrase file to be used for Cancel-Locks. This feature is turned
off by default.
.ie n .IP "\fI\fI$HOME\fI/.newsauth\fR" 4
.el .IP "\fI\f(CI$HOME\fI/.newsauth\fR" 4
.IX Item "$HOME/.newsauth"
\&\*(L"nntpserver password [user]\*(R" pairs for \s-1NNTP\s0 servers that require
authorization. Any line that starts with \*(L"#\*(R" is a comment. Blank lines are
ignored. This file should be readable only for the user as it contains the
user's uncrypted password for reading news. First match counts. If no
matching entry is found \fI\f(CI$HOME\fI/.nntpauth\fR is checked.
.ie n .IP "\fI\fI$HOME\fI/.nntpauth\fR" 4
.el .IP "\fI\f(CI$HOME\fI/.nntpauth\fR" 4
.IX Item "$HOME/.nntpauth"
\&\*(L"nntpserver user password\*(R" pairs for \s-1NNTP\s0 servers that require
authorization. First match counts. Lines starting with \*(L"#\*(R" are skipped and
blank lines are ignored. This file should be readable only for the user as
it contains the user's uncrypted password for reading news.
\&\fI\f(CI$HOME\fI/.newsauth\fR is checked first.
.ie n .IP "\fI\fI$XDG_CONFIG_HOME\fI/tinewsrc\fR \fI\fI$HOME\fI/.config/tinewsrc\fR \fI\fI$HOME\fI/.tinewsrc\fR" 4
.el .IP "\fI\f(CI$XDG_CONFIG_HOME\fI/tinewsrc\fR \fI\f(CI$HOME\fI/.config/tinewsrc\fR \fI\f(CI$HOME\fI/.tinewsrc\fR" 4
.IX Item "$XDG_CONFIG_HOME/tinewsrc $HOME/.config/tinewsrc $HOME/.tinewsrc"
\&\*(L"option=value\*(R" configuration pairs. Lines that start with \*(L"#\*(R" are ignored.
If the file contains uncrypted passwords (e.g. NNTPPass or PGPPass), it
should be readable for the user only.
.SH "SECURITY"
.IX Header "SECURITY"
If you've configured or entered a password, even if the variable that
contained that password has been erased, it may be possible for someone to
find that password, in plaintext, in a core dump. In short, if serious
security is an issue, don't use this script.
.SH "NOTES"
.IX Header "NOTES"
\&\fBtinews.pl\fR is designed to be used with \fBpgp\fR(1)\-2.6.3,
\&\fBpgp\fR(1)\-5, \fBpgp\fR(1)\-6 and \fBgpg\fR(1).
.PP
\&\fBtinews.pl\fR requires the following standard modules to be installed:
\&\fBGetopt::Long\fR(3pm), \fBNet::NNTP\fR(3pm), \fBTime::Local\fR(3pm) and
\&\fBTerm::Readline\fR(3pm).
.PP
If the Cancel-Lock feature is enabled the following additional modules
must be installed: \fBMIME::Base64\fR(3pm), \fBDigest::SHA1\fR(3pm) and
\&\fBDigest::HMAC_SHA1\fR(3pm)
.SH "AUTHOR"
.IX Header "AUTHOR"
Urs Janssen <urs@tin.org>,
Marc Brockschmidt <marc@marcbrockschmidt.de>
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBpgp\fR(1), \fBgpg\fR(1), \fBpgps\fR(1), \fBDigest::HMAC_SHA1\fR(3pm),
\&\fBDigest::SHA1\fR(3pm), \fBGetopt::Long\fR(3pm), \fBMIME::Base64\fR(3pm),
\&\fBNet::NNTP\fR(3pm), \fBTime::Local\fR(3pm), \fBTerm::Readline\fR(3pm)
